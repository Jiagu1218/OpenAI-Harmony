import {OpenAIApi} from '@ohos/openai-harmony';
@Entry
@Component
struct Index {

  @State message: string = 'Hello World'
  private openai:OpenAIApi

  aboutToAppear(){
    //初始化
    this.openai = OpenAIApi.getInstance({apiKey:'openai ke'})
    //创建对话
    this.openai.createChatCompletion({
      model: "gpt-3.5-turbo",
      messages: [{role: "user", content: "Hello world"}],
    }).then(result=>{
      //处理返回结果
      console.info('openai',JSON.stringify(result))
    }).catch(error=>{
      //处理异常
      console.error('openai',JSON.stringify(error))
    })
  }
  /**
   * In low-code mode, do not add anything to the build function, as it will be
   * overwritten by the content generated by the .visual file in the build phase.
   */
  build() {

  }
}